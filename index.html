<!DOCTYPE html>
<html lang="fa" dir="rtl" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اتحاد نورزهی</title>
    <meta name="theme-color" content="#064e3b">

    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;500;700;900&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Vazirmatn', 'sans-serif'], quran: ['Amiri', 'serif'] },
                    colors: {
                        primary: { 500: '#10b981', 600: '#059669', 700: '#047857', 900: '#064e3b' },
                        sand: { 500: '#f59e0b', 600: '#d97706' }
                    }
                }
            }
        }
    </script>

    <style>
        /* حذف کدهای مخفی‌ساز برای جلوگیری از صفحه سفید */
        body { background-color: #fafaf9; }
        .glass { background: rgba(255,255,255,0.9); backdrop-filter: blur(10px); border-bottom: 1px solid #ddd; }
        .palm-bg { 
            background-image: url('https://images.unsplash.com/photo-1545397242-20058b312871?q=80&w=1080&auto=format&fit=crop');
            background-size: cover; background-position: center; background-attachment: fixed;
        }
    </style>
</head>
<body class="antialiased text-gray-800 pb-20 md:pb-0">

    <div class="bg-[#064e3b] text-white text-center py-3 sticky top-0 z-50 shadow-md">
        <div class="font-quran text-xl font-bold mb-1">بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ</div>
        <div class="text-xs text-green-200 font-quran">«وَجَعَلْنَا مِنَ الْمَاءِ كُلَّ شَيْءٍ حَيٍّ»</div>
    </div>

    <div id="app">
        
        <header class="transition-all duration-300 sticky top-[60px] z-40" :class="scrolled ? 'glass py-2' : 'bg-transparent py-4'">
            <div class="container mx-auto px-4 flex justify-between items-center">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center text-white shadow-lg">
                        <i data-lucide="palmtree"></i>
                    </div>
                    <div>
                        <h1 class="font-bold text-xl transition-colors" :class="scrolled ? 'text-gray-800' : 'text-white'">اتحاد نورزهی</h1>
                        <p class="text-[10px]" :class="scrolled ? 'text-gray-500' : 'text-gray-200'">تخصصی‌ترین مرکز حفاری</p>
                    </div>
                </div>
                <a :href="whatsappLink" class="hidden md:flex bg-white text-green-700 px-4 py-2 rounded-full font-bold shadow hover:bg-green-50 items-center gap-2">
                    <i data-lucide="message-circle" class="w-4 h-4"></i> تماس
                </a>
            </div>
        </header>

        <section class="relative min-h-[80vh] flex items-center justify-center -mt-[120px] pt-[120px] palm-bg">
            <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/40 to-[#fafaf9]"></div>
            
            <div class="container mx-auto px-4 relative z-10 text-center text-white">
                <h2 class="text-4xl md:text-6xl font-black mb-4 drop-shadow-lg">آبادانی نخلستان‌ها<br><span class="text-green-400">تخصص ماست</span></h2>
                <p class="text-lg mb-8 opacity-90">حفاری چاه‌های عمیق و نیمه‌عمیق (تازانی و پشته)</p>
                
                <button @click="scrollToCalc" class="bg-green-600 hover:bg-green-700 text-white px-8 py-4 rounded-xl font-bold shadow-lg shadow-green-600/40 transition transform hover:-translate-y-1 flex items-center justify-center gap-2 mx-auto">
                    <i data-lucide="calculator" class="w-5 h-5"></i>
                    محاسبه هزینه حفاری
                </button>
            </div>
        </section>

        <section class="py-12 px-4 container mx-auto">
            <div class="grid md:grid-cols-2 gap-6">
                <div @click="selectService('tazani')" class="bg-white p-6 rounded-2xl shadow-lg border-b-4 border-green-500 cursor-pointer hover:-translate-y-1 transition-transform">
                    <div class="flex items-center gap-4 mb-4">
                        <div class="w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center"><i data-lucide="sprout"></i></div>
                        <h3 class="font-bold text-xl">حفاری تازانی</h3>
                    </div>
                    <p class="text-gray-500 text-sm mb-4">مناسب زمین‌های کشاورزی و باغات خرما.</p>
                    <div class="text-green-700 font-bold text-lg">پایه: ۱۲,۰۰۰,۰۰۰ تومان</div>
                </div>

                <div @click="selectService('peshte')" class="bg-white p-6 rounded-2xl shadow-lg border-b-4 border-yellow-500 cursor-pointer hover:-translate-y-1 transition-transform">
                    <div class="flex items-center gap-4 mb-4">
                        <div class="w-12 h-12 bg-yellow-100 text-yellow-600 rounded-full flex items-center justify-center"><i data-lucide="mountain"></i></div>
                        <h3 class="font-bold text-xl">حفاری پشته</h3>
                    </div>
                    <p class="text-gray-500 text-sm mb-4">مخصوص زمین‌های سخت و سنگی.</p>
                    <div class="text-yellow-600 font-bold text-lg">پایه: ۱۶,۰۰۰,۰۰۰ تومان</div>
                </div>
            </div>
        </section>

        <section id="calculator" class="bg-[#1c1917] text-white py-16 rounded-t-[40px] shadow-2xl">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-8 text-green-400">ماشین حساب هوشمند</h2>
                
                <div class="flex bg-[#292524] rounded-xl p-1 mb-8 max-w-md mx-auto">
                    <button @click="type='tazani'" class="flex-1 py-3 rounded-lg transition-all" :class="type==='tazani' ? 'bg-green-600 text-white shadow' : 'text-gray-400'">تازانی</button>
                    <button @click="type='peshte'" class="flex-1 py-3 rounded-lg transition-all" :class="type==='peshte' ? 'bg-yellow-600 text-white shadow' : 'text-gray-400'">پشته</button>
                </div>

                <div class="bg-[#292524] p-6 rounded-2xl max-w-2xl mx-auto border border-gray-700">
                    <div class="flex justify-between mb-4">
                        <span class="text-gray-300">عمق حفاری</span>
                        <span class="text-green-400 font-mono font-bold text-xl">{{ depth }} متر</span>
                    </div>
                    <input type="range" v-model="depth" min="1" max="200" class="w-full h-4 bg-gray-600 rounded-lg appearance-none accent-green-500 mb-2">
                    <div class="flex justify-between text-xs text-gray-500"><span>1 متر</span><span>200 متر</span></div>
                    
                    <div class="mt-8 text-center bg-black/30 p-4 rounded-xl">
                        <div class="text-gray-400 text-sm">قیمت تقریبی</div>
                        <div class="text-4xl font-bold my-2">{{ formattedPrice }}</div>
                        <div class="text-gray-500 text-sm">تومان</div>
                    </div>

                    <a :href="whatsappOrderLink" class="block w-full mt-6 bg-green-600 hover:bg-green-500 py-4 rounded-xl text-center font-bold transition flex justify-center gap-2 items-center">
                        <i data-lucide="check-circle"></i>
                        ثبت سفارش در واتساپ
                    </a>
                </div>
            </div>
        </section>

        <section class="py-12 bg-gray-100 border-t border-gray-200">
            <div class="container mx-auto px-4 text-center">
                <h3 class="font-bold text-gray-800 mb-6 flex items-center justify-center gap-2">
                    <i data-lucide="users" class="text-green-600 w-5 h-5"></i>
                    هیئت مدیره (برادران نورزهی)
                </h3>
                <div class="flex flex-wrap justify-center gap-3">
                    <span v-for="manager in managers" class="bg-white px-4 py-2 rounded-full shadow-sm text-sm text-gray-600 border border-gray-200">
                        {{ manager }}
                    </span>
                </div>
            </div>
        </section>

        <footer class="bg-[#1c1917] text-gray-400 py-8 text-center text-xs border-t border-gray-800 pb-24 md:pb-8">
            <p class="mb-2">© ۲۰۲۵ اتحاد نورزهی</p>
            <p class="flex justify-center items-center gap-1">
                ساخته شده توسط <span class="text-gray-200 font-bold">عبدالناصر نورزهی</span>
            </p>
        </footer>

        <nav class="fixed bottom-0 w-full bg-white/95 backdrop-blur border-t border-gray-200 flex justify-around py-3 md:hidden z-50 pb-safe text-gray-500">
            <a href="#" class="flex flex-col items-center hover:text-green-600"><i data-lucide="home" class="w-5 h-5"></i><span class="text-[10px]">خانه</span></a>
            <div class="relative -top-5">
                <a :href="whatsappLink" class="bg-green-600 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg animate-pulse"><i data-lucide="message-circle"></i></a>
            </div>
            <button @click="scrollToCalc" class="flex flex-col items-center hover:text-green-600"><i data-lucide="calculator" class="w-5 h-5"></i><span class="text-[10px]">هزینه</span></button>
        </nav>

    </div>

    <script>
        const { createApp, ref, computed, onMounted, watch } = Vue;

        createApp({
            setup() {
                const scrolled = ref(false);
                const type = ref('tazani');
                const depth = ref(10);
                
                // لیست مدیران طبق درخواست شما
                const managers = [
                    'عبدالخالق نورزهی', 'محمد صادق نورزهی', 'عبدالستار نورزهی',
                    'محمد عمر نورزهی', 'شریف نورزهی', 'عبدالمطلب نورزهی', 'حسین نورزهی'
                ];

                const prices = { tazani: 5455000, peshte: 7273000 };

                const formattedPrice = computed(() => {
                    return (depth.value * prices[type.value]).toLocaleString('fa-IR');
                });

                const whatsappOrderLink = computed(() => {
                    const txt = `سلام، درخواست حفاری *${type.value === 'tazani' ? 'تازانی' : 'پشته'}* به متراژ *${depth.value} متر* را دارم.\nهزینه سایت: ${formattedPrice.value} تومان.`;
                    return `https://wa.me/989167169590?text=${encodeURIComponent(txt)}`;
                });

                // هندل کردن اسکرول و آیکون‌ها
                onMounted(() => {
                    lucide.createIcons();
                    window.addEventListener('scroll', () => scrolled.value = window.scrollY > 50);
                });
                
                watch(type, () => setTimeout(() => lucide.createIcons(), 50));

                return {
                    scrolled, type, depth, managers, formattedPrice,
                    whatsappLink: 'https://wa.me/989167169590',
                    whatsappOrderLink,
                    selectService: (t) => { type.value = t; document.getElementById('calculator').scrollIntoView({behavior:'smooth'}); },
                    scrollToCalc: () => document.getElementById('calculator').scrollIntoView({behavior:'smooth'})
                };
            }
        }).mount('#app');
    </script>
</body>
</html>